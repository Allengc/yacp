--- origsrc/libtubo-4.5.0/Makefile.am	2006-05-20 22:10:33.000000000 +0900
+++ src/libtubo-4.5.0/Makefile.am	2010-12-30 22:23:36.664721300 +0900
@@ -1,5 +1,7 @@
 ## Process this file with automake to produce Makefile.in
 
+ACLOCAL_AMFLAGS = -I m4
+
 SUBDIRS = src doc
 
 CLEANFILES = *~ *.bak core *.core *.o *.lo *.la
--- origsrc/libtubo-4.5.0/configure.ac	2006-05-24 00:23:10.000000000 +0900
+++ src/libtubo-4.5.0/configure.ac	2010-12-30 22:14:39.303892200 +0900
@@ -21,8 +21,6 @@ AC_SUBST(LIBTUBO_VERINFO)
 
 AM_CONFIG_HEADER([config.h])
 
-AM_MAINTAINER_MODE
-
 dnl Package settings
 PACKAGE_NAME="libtubo"
 PACKAGE_STRING="Copyright Edscott Wilson Garcia, LGPL 2002-2006"
@@ -48,7 +46,7 @@ dnl check for basic programs
 AC_PROG_CC
 AM_PROG_CC_STDC
 AC_PROG_INSTALL
-AC_PROG_LIBTOOL
+LT_INIT(win32-dll)
 AC_PROG_MAKE_SET
 
 dnl check for standard header files
--- origsrc/libtubo-4.5.0/src/Makefile.am	2006-05-20 10:35:01.000000000 +0900
+++ src/libtubo-4.5.0/src/Makefile.am	2010-12-30 22:37:27.378194900 +0900
@@ -17,7 +17,7 @@ lib_LTLIBRARIES = 							\
 libtubo_la_SOURCES = 						\
 	tubo.c 	tubo.h
 
-COMMON_LDFLAGS = -export-dynamic -version-info @LIBTUBO_VERINFO@
+COMMON_LDFLAGS = -export-dynamic -version-info @LIBTUBO_VERINFO@ -no-undefined
 
 libtubo_la_LDFLAGS = $(COMMON_LDFLAGS)
 
@@ -26,6 +26,8 @@ common_FLAGS = 								\
 
 libtubo_la_CFLAGS = $(common_FLAGS)	
 
+libtubo_la_LIBADD = @GLIB_LIBS@
+
 ##################################################################
 
 install-data-local:
--- origsrc/libtubo-4.5.0/src/tubo.c	2006-05-22 00:30:15.000000000 +0900
+++ src/libtubo-4.5.0/src/tubo.c	2010-12-30 22:44:55.531678800 +0900
@@ -79,8 +79,10 @@ typedef struct arena_t{
     pid_t pid;
     int src;
 }arena_t;
+#if !defined(PAGESIZE)
 #define PAGESIZE sizeof(arena_t)
 #endif
+#endif
 
 /* public stuff */
 #include "tubo.h"
