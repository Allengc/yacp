--- origsrc/openslide-3.2.3/configure.ac	2010-09-10 05:59:27.000000000 +0900
+++ src/openslide-3.2.3/configure.ac	2010-10-11 15:00:53.142375000 +0900
@@ -20,7 +20,7 @@ AC_SYS_LARGEFILE
 AC_FUNC_FSEEKO
 
 LT_PREREQ([2.2.5])
-LT_INIT([win32-dll disable-static])
+LT_INIT([win32-dll])
 LT_LANG([Windows Resource])
 AM_CONDITIONAL([WINDOWS_RESOURCES], [test x$WINDRES != x])
 
@@ -104,7 +104,10 @@ LIBS="$old_LIBS"
 AM_CONDITIONAL([NEED_SHA256], [test x$need_sha256 = xyes])
 
 PKG_CHECK_MODULES(CAIRO, [cairo >= 1.2])
-PKG_CHECK_MODULES(LIBPNG, [libpng > 1.2])
+case "$host_os" in
+  cygwin*) PKG_CHECK_MODULES(LIBPNG, [libpng12 > 1.2]) ;;
+  *)       PKG_CHECK_MODULES(LIBPNG, [libpng > 1.2])   ;;
+esac
 
 gl_VISIBILITY
 
