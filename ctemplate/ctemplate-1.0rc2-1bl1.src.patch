--- origsrc/ctemplate-1.0rc2/Makefile.am	2011-07-30 04:23:53.000000000 +0900
+++ src/ctemplate-1.0rc2/Makefile.am	2011-08-14 01:40:42.607049100 +0900
@@ -153,7 +153,7 @@ libctemplate_la_CXXFLAGS = $(PTHREAD_CFL
 # -version-info gets passed to libtool
 libctemplate_la_LDFLAGS = $(PTHREAD_CFLAGS) \
                           -export-symbols-regex $(CTEMPLATE_SYMBOLS) \
-                          -version-info @SO_VERSION@
+                          -version-info @SO_VERSION@ -no-undefined
 libctemplate_la_LIBADD = $(PTHREAD_LIBS)
 
 # For MinGW, we need to bring in the windows port files
@@ -168,7 +168,7 @@ libctemplate_nothreads_la_SOURCES = $(li
 libctemplate_nothreads_la_DEPENDENCIES = $(libctemplate_la_DEPENDENCIES)
 libctemplate_nothreads_la_CXXFLAGS = -DNDEBUG -DNO_THREADS $(AM_CXXFLAGS)
 libctemplate_nothreads_la_LDFLAGS = -export-symbols-regex $(CTEMPLATE_SYMBOLS) \
-                                    -version-info @SO_VERSION@
+                                    -version-info @SO_VERSION@ -no-undefined
 
 # For our tests, we want versions of these libraries that include asserts.
 noinst_LTLIBRARIES += libctemplate_debug.la
