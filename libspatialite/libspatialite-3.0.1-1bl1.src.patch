--- origsrc/libspatialite-3.0.1/examples/demo2.c	2012-01-04 02:54:50.000000000 +0900
+++ src/libspatialite-3.0.1/examples/demo2.c	2012-01-26 23:39:02.083029800 +0900
@@ -23,7 +23,9 @@ these headers are required in order to s
 SQLite/SpatiaLite
 */
 
+#ifndef OMIT_GEOS
 #include <geos_c.h>
+#endif
 
 #include <sqlite3.h>
 #include <spatialite/gaiageo.h>
--- origsrc/libspatialite-3.0.1/src/Makefile.am	2012-01-04 03:00:48.000000000 +0900
+++ src/libspatialite-3.0.1/src/Makefile.am	2012-01-26 23:58:45.763767600 +0900
@@ -24,10 +24,9 @@ libspatialite_la_LIBADD = ./gaiaaux/libg
 	./virtualtext/libvirtualtext.la
 
 
-if MINGW
 libspatialite_la_LDFLAGS = -version-info 4:0:2 -no-undefined
+if MINGW
 else
-libspatialite_la_LDFLAGS = -version-info 4:0:2
 libspatialite_la_LIBADD += -lpthread -ldl
 endif
 
--- origsrc/libspatialite-3.0.1/test/check_extension.c	2012-01-04 02:54:50.000000000 +0900
+++ src/libspatialite-3.0.1/test/check_extension.c	2012-01-27 00:17:38.014055700 +0900
@@ -68,7 +68,7 @@ int main (int argc, char *argv[])
     }
     
     sqlite3_enable_load_extension (db_handle, 1);
-    
+
     asprintf(&sql_statement, "SELECT load_extension('libspatialite.so')");
     ret = sqlite3_exec (db_handle, sql_statement, NULL, NULL, &err_msg);
     free(sql_statement);
