--- origsrc/io_lib-1.13.3/io_lib/Makefile.am	2013-10-19 01:08:06.000000000 +0900
+++ src/io_lib-1.13.3/io_lib/Makefile.am	2014-05-08 21:47:26.326974700 +0900
@@ -128,7 +128,7 @@ libstaden_read_la_SOURCES = \
 
 libstaden_read_la_CPPFLAGS = @LIBCURL_CPPFLAGS@
 
-libstaden_read_la_LDFLAGS = -version-info @VERS_CURRENT@:@VERS_REVISION@:@VERS_AGE@ 
+libstaden_read_la_LDFLAGS = -version-info @VERS_CURRENT@:@VERS_REVISION@:@VERS_AGE@ -no-undefined
 libstaden_read_la_LIBADD = @LIBZ@ @LIBCURL@
 
 INCLUDES = -I${top_srcdir}
--- origsrc/io_lib-1.13.3/io_lib/cram_io.c	2013-10-25 18:05:22.000000000 +0900
+++ src/io_lib-1.13.3/io_lib/cram_io.c	2014-05-08 21:52:46.523263700 +0900
@@ -80,9 +80,10 @@
 #define RP(...) 
 #endif
 
+#if !defined(__CYGWIN__)
 #include <sys/syscall.h>
 #define gettid() (int)syscall(SYS_gettid)
-
+#endif
 
 /* ----------------------------------------------------------------------
  * ITF8 encoding and decoding.
