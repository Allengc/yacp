--- origsrc/liblscp-0.5.6/configure.ac	2009-08-02 01:16:57.000000000 +0900
+++ src/liblscp-0.5.6/configure.ac	2010-10-30 13:40:11.858533000 +0900
@@ -26,8 +26,7 @@ AC_SUBST(SHARED_VERSION_INFO)
 
 # Checks for programs.
 AC_PROG_CC
-AC_PROG_LIBTOOL
-AM_PROG_LIBTOOL
+LT_INIT(win32-dll)
 
 # Checks for header files.
 AC_HEADER_STDC
@@ -43,7 +42,6 @@ AC_CHECK_FUNCS(strdup strtok_r memset me
 # Checks for pthread library.
 AC_CHECK_LIB(pthread, pthread_create)
 
-AC_ENABLE_STATIC(no)
 AC_ENABLE_SHARED(yes)
 
 # Checks for doxygen.
--- origsrc/liblscp-0.5.6/examples/Makefile.am	2005-07-21 22:27:14.000000000 +0900
+++ src/liblscp-0.5.6/examples/Makefile.am	2010-10-30 13:38:58.655408000 +0900
@@ -1,5 +1,5 @@
 
-AM_CFLAGS = -Wall -I..
+AM_CFLAGS = -Wall -I.. -I$(top_srcdir)
 
 noinst_PROGRAMS = example_server example_client
 noinst_HEADERS = server.h parser.h
--- origsrc/liblscp-0.5.6/src/Makefile.am	2005-07-21 22:27:14.000000000 +0900
+++ src/liblscp-0.5.6/src/Makefile.am	2010-10-30 13:38:58.671033000 +0900
@@ -1,10 +1,10 @@
 
-AM_CFLAGS = -Wall -I..
+AM_CFLAGS = -Wall -I.. -I$(top_srcdir)
 
 lib_LTLIBRARIES = liblscp.la
 
 liblscp_la_SOURCES = thread.c socket.c client.c device.c common.c event.c
-liblscp_la_LDFLAGS = -module -version-info @SHARED_VERSION_INFO@
+liblscp_la_LDFLAGS = -version-info @SHARED_VERSION_INFO@ -no-undefined
 liblscp_la_LIBADD  = -lpthread
 
 noinst_HEADERS = common.h
