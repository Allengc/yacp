--- origsrc/libitzam-5.0.0/Makefile.am	2010-04-06 03:07:19.000000000 +0900
+++ src/libitzam-5.0.0/Makefile.am	2010-12-05 13:54:22.978034400 +0900
@@ -1,7 +1,10 @@
-ACLOCAL_AMFLAGS = -I m4
+#ACLOCAL_AMFLAGS = -I m4
 SUBDIRS = libitzam tools test tutorial
 EXTRA_DIST = ItzamLicense-GPL.txt ItzamLicense-Policy.txt ItzamLicense-NonFree.pdf reconf cleanup CREDITS
 
+pkgconfigdir = $(libdir)/pkgconfig
+pkgconfig_DATA = libitzam.pc
+
 dist-hook:
 
 	if test -d WindowsDLL; then \
--- origsrc/libitzam-5.0.0/configure.ac	2010-04-03 04:36:04.000000000 +0900
+++ src/libitzam-5.0.0/configure.ac	2010-12-05 12:31:39.821453600 +0900
@@ -29,7 +29,7 @@ AC_PROG_CC
 AC_PROG_INSTALL
 AC_PROG_LN_S
 AC_PROG_MAKE_SET
-AM_PROG_LIBTOOL
+LT_INIT(win32-dll)
 AM_SANITY_CHECK
 
 AC_HEADER_STDC
--- origsrc/libitzam-5.0.0/libitzam/Makefile.am	2010-04-03 01:44:50.000000000 +0900
+++ src/libitzam-5.0.0/libitzam/Makefile.am	2010-12-05 12:32:02.584184800 +0900
@@ -10,7 +10,7 @@ cpp_sources = itzam_data.c \
 lib_LTLIBRARIES = libitzam.la
 
 libitzam_la_SOURCES = $(h_sources) $(cpp_sources)
-libitzam_la_LDFLAGS= -version-info $(GENERIC_LIBRARY_VERSION) -release $(GENERIC_RELEASE)
+libitzam_la_LDFLAGS= -version-info $(GENERIC_LIBRARY_VERSION) -release $(GENERIC_RELEASE) -no-undefined
 
 library_includedir=$(includedir)/$(GENERIC_LIBRARY_NAME)
 library_include_HEADERS = $(h_sources)
--- origsrc/libitzam-5.0.0/test/itzam_test.c	2010-04-03 05:52:24.000000000 +0900
+++ src/libitzam-5.0.0/test/itzam_test.c	2010-12-05 13:33:35.657076000 +0900
@@ -69,7 +69,7 @@ static bool test_btree()
     bool result = false;
 
     const uint16_t order  =    11; // small, so we get lots of tree changes
-    const size_t testsize =  2000;
+    const size_t testsize =   200;
     const size_t maxkey   = 10000;
 
     char * filename = "deleteme.itz";
@@ -146,7 +146,7 @@ static bool test_matrix()
     bool result = false;
     const itzam_int cols  =  123;
     const itzam_int rows  =   42;
-    const size_t testsize = 2000;
+    const size_t testsize =  200;
     char * filename = "deleteme.itz";
 
     // banner for this test
@@ -164,7 +164,7 @@ static bool test_hash()
     bool result = false;
     const itzam_int buckets =   27;
     const itzam_int maxkey  = 1000;
-    const size_t testsize   = 2000;
+    const size_t testsize   =  200;
     char * filename = "deleteme.itz";
 
     // banner for this test
