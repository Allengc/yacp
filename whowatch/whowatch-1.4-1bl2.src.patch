--- origsrc/whowatch-1.4/Makefile.am	1970-01-01 09:00:00.000000000 +0900
+++ src/whowatch-1.4/Makefile.am	2010-12-03 16:58:32.116273400 +0900
@@ -0,0 +1,5 @@
+bin_PROGRAMS = whowatch
+AM_CPPFLAGS = @NCURSES_CFLAGS@
+whowatch_SOURCES = whowatch.c whowatch.h process.c procinfo.c proctree.c owner.c screen.c
+whowatch_LDADD = @NCURSES_LIBS@
+man_MANS = whowatch.1
--- origsrc/whowatch-1.4/configure.in	2000-06-07 02:37:38.000000000 +0900
+++ src/whowatch-1.4/configure.in	2010-12-03 16:42:39.412883300 +0900
@@ -1,12 +1,13 @@
 dnl Process this file with autoconf to produce a configure script.
 AC_INIT(whowatch.c)
+AM_INIT_AUTOMAKE
 
 VERSION="1.4"
 PACKAGGE=whowatch
 AC_SUBST(VERSION)
 AC_SUBST(PACKAGE)
 
-AC_CONFIG_HEADER(config.h)
+AM_CONFIG_HEADER(config.h)
 
 dnl Checks for programs.
 AC_PROG_CC
@@ -16,14 +17,7 @@ dnl Checks for libraries.
 dnl Replace `main' with a function in -lkvm:
 AC_CHECK_LIB(kvm, kvm_openfiles)
 dnl Replace `main' with a function in -lncurses:
-CURS=0
-AC_CHECK_LIB(ncurses, scrollok, [CURS=1 ; LIBS="$LIBS -lncurses"])
-if test "$CURS" !=  "1"; then
-	AC_CHECK_LIB(curses, scrollok, [CURS=1 ; LIBS="$LIBS -lcurses"])
-fi
-if test "$CURS" != "1"; then
-	AC_MSG_ERROR([Could not find proper curses library])
-fi
+PKG_CHECK_MODULES(NCURSES, ncurses)
 
 
 dnl Checks for header files.
