--- origsrc/log4c-1.2.2/configure.in	2012-10-05 07:51:28.000000000 +0900
+++ src/log4c-1.2.2/configure.in	2013-01-13 12:58:54.335304700 +0900
@@ -207,7 +207,11 @@ AC_ARG_WITH(expat,
                     with_expat=yes)
 if test x$with_expat = xyes ; then
  use_expat=yes
- AM_PATH_EXPAT(1.95.1)
+ AC_CHECK_HEADERS(expat.h)
+ EXPAT_CFLAGS=""
+ AC_SUBST(EXPAT_CFLAGS)
+ EXPAT_LIBS="-lexpat"
+ AC_SUBST(EXPAT_LIBS)
 fi
 dnl AC_MSG_NOTICE([value of with_expat = $with_expat no_expat =  $no_expat use_expat= $use_expat])
 AM_CONDITIONAL(USE_EXPAT, test  "x$use_expat" = "xyes" )
--- origsrc/log4c-1.2.2/src/log4c/Makefile.am	2012-10-03 00:55:55.000000000 +0900
+++ src/log4c-1.2.2/src/log4c/Makefile.am	2013-01-13 12:58:03.897804700 +0900
@@ -30,7 +30,7 @@ if WITH_MMAP
 liblog4c_la_SOURCES += appender_type_mmap.c
 endif
 
-liblog4c_la_LDFLAGS = -version-info @LT_VERSION@
+liblog4c_la_LDFLAGS = -version-info @LT_VERSION@ -no-undefined
 liblog4c_la_LIBADD  = ../sd/liblog4c_sd.la
 
 pkginclude_HEADERS = \
