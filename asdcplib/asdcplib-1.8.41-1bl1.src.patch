--- origsrc/asdcplib-1.8.41/src/KM_fileio.cpp	2011-03-09 04:03:47.000000000 +0900
+++ src/asdcplib-1.8.41/src/KM_fileio.cpp	2011-09-25 13:06:01.001348500 +0900
@@ -58,7 +58,7 @@ struct iovec {
   int   iov_len;
 };
 #else
-# if defined(__linux__)
+# if defined(__linux__) || defined(__CYGWIN__)
 #   include <sys/statfs.h>
 # else
 #  include <sys/param.h>
--- origsrc/asdcplib-1.8.41/src/Makefile.am	2011-05-16 13:33:31.000000000 +0900
+++ src/asdcplib-1.8.41/src/Makefile.am	2011-09-25 12:25:01.276102100 +0900
@@ -55,7 +55,7 @@ libkumu_la_SOURCES = KM_error.h KM_filei
 		KM_util.h KM_xml.cpp KM_xml.h KM_tai.h KM_tai.cpp
 
 # linker flags (*not* including libraries to link against) for a library
-libkumu_la_LDFLAGS = -release @VERSION@
+libkumu_la_LDFLAGS = -release @VERSION@ -no-undefined
 
 # sources for a library that don't get added to a distribution
 nodist_libasdcp_la_SOURCES = Metadata_h.tt2 Metadata_cpp.tt2 \
@@ -75,7 +75,7 @@ if DEV_HEADERS
 nodist_libasdcp_la_SOURCES += TimedText_Transform.h TimedText_Transform.cpp
 endif
 
-libasdcp_la_LDFLAGS = -release @VERSION@
+libasdcp_la_LDFLAGS = -release @VERSION@ -no-undefined
 
 # additional libraries to link against for a library
 libasdcp_la_LIBADD = libkumu.la
@@ -96,11 +96,11 @@ nodist_libnapali_la_SOURCES = \
 	napali_python.cpp napali_python.h
 
 libpyasdcp_la_CPPFLAGS = @PYTHON_CPPFLAGS@
-libpyasdcp_la_LDFLAGS = @PYTHON_LSPEC@  -release @VERSION@
+libpyasdcp_la_LDFLAGS = @PYTHON_LSPEC@  -release @VERSION@ -no-undefined
 libpyasdcp_la_LIBADD = libkumu.la libasdcp.la
 
 libnapali_la_CPPFLAGS = @PYTHON_CPPFLAGS@
-libnapali_la_LDFLAGS = @PYTHON_LSPEC@  -release @VERSION@
+libnapali_la_LDFLAGS = @PYTHON_LSPEC@  -release @VERSION@ -no-undefined
 libnapali_la_LIBADD = libkumu.la libasdcp.la
 
 pyexecdir = @PYTHON_EXECDIR@
@@ -110,17 +110,17 @@ pyexec_LTLIBRARIES = kumu.la asdcp.la na
 
 nodist_kumu_la_SOURCES = pykumu.cpp kumu_python.h
 kumu_la_CPPFLAGS = @PYTHON_CPPFLAGS@
-kumu_la_LDFLAGS = @PYTHON_LSPEC@ -avoid-version -module
+kumu_la_LDFLAGS = @PYTHON_LSPEC@ -avoid-version -module -no-undefined
 kumu_la_LIBADD = libpyasdcp.la
 
 nodist_asdcp_la_SOURCES = pyasdcp.cpp kumu_python.h asdcp_python.h asdcp_wrappers.h
 asdcp_la_CPPFLAGS = @PYTHON_CPPFLAGS@
-asdcp_la_LDFLAGS = @PYTHON_LSPEC@ -avoid-version -module
+asdcp_la_LDFLAGS = @PYTHON_LSPEC@ -avoid-version -module -no-undefined
 asdcp_la_LIBADD = libpyasdcp.la
 
 nodist_napali_la_SOURCES = pynapali.cpp kumu_python.h napali_python.h
 napali_la_CPPFLAGS = @PYTHON_CPPFLAGS@
-napali_la_LDFLAGS = @PYTHON_LSPEC@ -avoid-version -module
+napali_la_LDFLAGS = @PYTHON_LSPEC@ -avoid-version -module -no-undefined
 napali_la_LIBADD = libnapali.la libpyasdcp.la
 endif
 
