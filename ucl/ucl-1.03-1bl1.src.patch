--- origsrc/ucl-1.03/Makefile.am	2004-07-20 08:01:47.000000000 +0900
+++ src/ucl-1.03/Makefile.am	2010-09-01 19:10:24.576537000 +0900
@@ -3,6 +3,8 @@
 # Copyright (C) 1996-2004 Markus F.X.J. Oberhumer
 #
 
+ACLOCAL_AMFLAGS = -I m4
+
 AUTOMAKE_OPTIONS = 1.8.5 foreign
 
 SUBDIRS = include src examples
--- origsrc/ucl-1.03/configure.ac	2004-07-20 08:01:47.000000000 +0900
+++ src/ucl-1.03/configure.ac	2010-09-01 19:53:56.288300000 +0900
@@ -48,7 +48,7 @@ AC_CANONICAL_TARGET
 AM_MAINTAINER_MODE
 
 if test -z "$ac_abs_top_srcdir"; then
-    _AC_SRCPATHS(.)
+    _AC_SRCDIRS(.)
 fi
 if test -r .Conf.settings1; then
     . ./.Conf.settings1
@@ -64,10 +64,7 @@ AC_SYS_LARGEFILE
 AM_INIT_AUTOMAKE
 AM_CONFIG_HEADER(config.h:config.hin)
 
-AC_ENABLE_STATIC
-AC_DISABLE_SHARED
-AC_PROG_LIBTOOL
-
+LT_INIT(win32-dll)
 
 # /***********************************************************************
 # // Checks for assembler
--- origsrc/ucl-1.03/src/Makefile.am	2004-07-20 08:01:47.000000000 +0900
+++ src/ucl-1.03/src/Makefile.am	2010-09-01 20:25:03.569550000 +0900
@@ -12,7 +12,7 @@ CFLAGS = $(UCL_CFLAGS) $(configure_CFLAG
 
 lib_LTLIBRARIES = libucl.la
 
-libucl_la_LDFLAGS = -version-info 1:0:0
+libucl_la_LDFLAGS = -version-info 1:0:0 -no-undefined
 
 libucl_la_SOURCES = \
 	alloc.c \
