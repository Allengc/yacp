--- origsrc/libclastfm-0.4/src/Makefile.am	2011-02-24 12:15:22.000000000 +0900
+++ src/libclastfm-0.4/src/Makefile.am	2011-12-05 23:03:20.797880300 +0900
@@ -1,6 +1,6 @@
 noinst_PROGRAMS = test example
 
-AM_LDFLAGS =  -Wl,--as-needed -static
+AM_LDFLAGS =  -Wl,--as-needed
 AM_CPPFLAGS = -g -Wall
 LDADD = libclastfm.la
 
@@ -16,7 +16,7 @@ libclastfm_la_SOURCES = \
 
 # Libtool doesnt respect AM_LDFLAGS that much
 libclastfm_la_CPPFLAGS = -g -Wall $(CURL_CFLAGS) 
-libclastfm_la_LDFLAGS = -Wl,--as-needed $(CURL_LIBS) 
+libclastfm_la_LDFLAGS = -Wl,--as-needed -no-undefined $(CURL_LIBS) 
 
 # Public header file
 include_HEADERS = clastfm.h
--- origsrc/libclastfm-0.4/src/lastfm-priv.h	2011-02-22 03:22:03.000000000 +0900
+++ src/libclastfm-0.4/src/lastfm-priv.h	2011-12-05 23:01:39.692497900 +0900
@@ -1,6 +1,5 @@
 #include <stdio.h>
 #include <curl/curl.h>
-#include <curl/types.h>
 #include <curl/easy.h>
 
 #ifndef LASTFM_PRIV_H
--- origsrc/libclastfm-0.4/src/lfm_helper.c	2011-02-23 05:16:04.000000000 +0900
+++ src/libclastfm-0.4/src/lfm_helper.c	2011-12-05 23:01:58.890102700 +0900
@@ -10,7 +10,6 @@
 #include <ctype.h>
 
 #include <curl/curl.h>
-#include <curl/types.h>
 #include <curl/easy.h>
 
 #include "lfm_helper.h"
--- origsrc/libclastfm-0.4/src/lfm_helper.h	2011-02-21 03:29:34.000000000 +0900
+++ src/libclastfm-0.4/src/lfm_helper.h	2011-12-05 23:01:52.530958700 +0900
@@ -1,7 +1,6 @@
 #include <stdlib.h>
 #include "lastfm-priv.h"
 #include <curl/curl.h>
-#include <curl/types.h>
 #include <curl/easy.h>
 
 #ifndef HELPERS_H
