--- origsrc/sl/Makefile	1998-07-22 23:00:41.000000000 +0900
+++ src/sl/Makefile	2010-12-03 13:35:39.364811900 +0900
@@ -5,10 +5,6 @@
 #	Last Modified: 1998/ 7/22
 #==========================================
 
-CC=cc
-CFLAGS=-O
-
 sl: sl.c sl.h
-	$(CC) $(CFLAGS) -o sl sl.c -lcurses -ltermcap
-#	$(CC) $(CFLAGS) -o sl sl.c -lcurses
+	$(CC) $(CFLAGS) -o sl sl.c $(shell pkg-config ncurses --cflags --libs)
 
--- origsrc/sl/sl.c	1998-07-22 23:01:01.000000000 +0900
+++ src/sl/sl.c	2010-12-03 13:38:29.158963900 +0900
@@ -30,6 +30,7 @@
 #include <curses.h>
 #include <signal.h>
 #include <unistd.h>
+#include <stdlib.h>
 #include "sl.h"
 
 int ACCIDENT  = 0;
@@ -59,7 +60,7 @@ void option(char *str)
     }
 }
 
-void main(int argc, char *argv[])
+int main(int argc, char *argv[])
 {
     int x, i;
 
@@ -85,6 +86,7 @@ void main(int argc, char *argv[])
     }
     mvcur(0, COLS - 1, LINES - 1, 0);
     endwin();
+    return EXIT_SUCCESS;
 }
 
 
