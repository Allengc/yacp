--- origsrc/ucommon-5.0.5/commoncpp/address.cpp	2011-07-26 07:11:08.000000000 +0900
+++ src/ucommon-5.0.5/commoncpp/address.cpp	2011-08-14 15:14:47.395741400 +0900
@@ -781,7 +781,7 @@ void IPV6Address::setAddress(const char
         int    rtn;
 
         hp = gethostbyname2_r(host, AF_INET6, &hb, hbuf, sizeof(hbuf), &rtn);
-#elif (defined(__osf__) || defined(_OSF_SOURCE) || defined(__hpux))
+#elif (defined(__osf__) || defined(_OSF_SOURCE) || defined(__hpux) || defined(__CYGWIN__))
         hp = gethostbyname(host);
 #elif defined(_MSWINDOWS_) && (!defined(_MSC_VER) || _MSC_VER < 1300)
         hp = gethostbyname(host);
--- origsrc/ucommon-5.0.5/commoncpp/thread.cpp	2011-07-26 07:11:08.000000000 +0900
+++ src/ucommon-5.0.5/commoncpp/thread.cpp	2011-08-14 16:27:32.667280300 +0900
@@ -449,7 +449,7 @@ void TimerPort::decTimer(timeout_t timeo
     active = true;
 }
 
-#if _POSIX_TIMERS > 0 && defined(POSIX_TIMERS)
+#if _POSIX_TIMERS > 0 && defined(POSIX_TIMERS) && !defined(__CYGWIN__)
 void TimerPort::sleepTimer(void)
 {
     struct timespec ts;
--- origsrc/ucommon-5.0.5/commoncpp/udp.cpp	2011-07-26 07:11:08.000000000 +0900
+++ src/ucommon-5.0.5/commoncpp/udp.cpp	2011-08-14 15:19:10.664303000 +0900
@@ -410,7 +410,7 @@ Socket::Error UDPSocket::join(const IPV4
     int retval = setsockopt(so, IPPROTO_IP, IP_ADD_MEMBERSHIP, (char *)&group, sizeof(group));
     return errSuccess;
 
-#elif defined(IP_ADD_MEMBERSHIP) && defined(SIOCGIFINDEX) && !defined(__FreeBSD__) && !defined(__FreeBSD_kernel__) && !defined(_OSF_SOURCE) && !defined(__hpux) && !defined(__GNU__)
+#elif defined(IP_ADD_MEMBERSHIP) && defined(SIOCGIFINDEX) && !defined(__FreeBSD__) && !defined(__FreeBSD_kernel__) && !defined(_OSF_SOURCE) && !defined(__hpux) && !defined(__GNU__) && !defined(__CYGWIN__)
 
         struct ip_mreqn      group;
     struct sockaddr_in   myaddr;
@@ -449,7 +449,7 @@ Socket::Error UDPSocket::join(const IPV4
 Socket::Error UDPSocket::getInterfaceIndex(const char *DeviceName,int& InterfaceIndex)
 {
 #ifndef _MSWINDOWS_
-#if defined(IP_ADD_MEMBERSHIP) && defined(SIOCGIFINDEX) && !defined(__FreeBSD__) && !defined(__FreeBSD_kernel__) && !defined(_OSF_SOURCE) && !defined(__hpux) && !defined(__GNU__)
+#if defined(IP_ADD_MEMBERSHIP) && defined(SIOCGIFINDEX) && !defined(__FreeBSD__) && !defined(__FreeBSD_kernel__) && !defined(_OSF_SOURCE) && !defined(__hpux) && !defined(__GNU__) && !defined(__CYGWIN__)
 
     struct ip_mreqn  mreqn;
     struct ifreq       m_ifreq;
