--- origsrc/ccrtp-1.7.1/configure.ac	2009-02-07 02:35:27.000000000 +0900
+++ src/ccrtp-1.7.1/configure.ac	2010-08-14 11:58:28.419615000 +0900
@@ -36,13 +36,14 @@ VERSION="1.7.1"
 REQUIRES="1.3.0"
 LT_RELEASE="1.7"
 LT_VERSION="0:1"
+AC_SUBST(LT_VERSION)
 AC_CONFIG_AUX_DIR(autoconf)
 AC_CANONICAL_SYSTEM
 AC_PROG_CPP
 AC_PROG_CXXCPP
 AC_PROG_CXX
 # OST_PROG_CC_POSIX
-AM_PROG_LIBTOOL
+LT_INIT(win32-dll)
 AM_INIT_AUTOMAKE(ccrtp,[$VERSION])
 AM_CONFIG_HEADER(src/config.h)
 
@@ -123,7 +124,7 @@ AC_SUBST(GNULIBS)
 # OST_CC_ENDIAN - now in Common C++
 # Are we using the GNU compiler?
 if test $GCC = yes ; then
-	WARN_FLAGS="-Wall -ansi -pedantic"
+	WARN_FLAGS="-Wall -pedantic"
 else
 	WARN_FLAGS=""
 fi
--- origsrc/ccrtp-1.7.1/src/Makefile.am	2009-01-16 21:30:51.000000000 +0900
+++ src/ccrtp-1.7.1/src/Makefile.am	2010-08-08 23:42:09.446210300 +0900
@@ -37,6 +37,6 @@ libccrtp1_la_SOURCES = rtppkt.cpp rtcppk
 	outqueue.cpp queue.cpp control.cpp members.cpp socket.cpp duplex.cpp pool.cpp \
 	CryptoContext.cxx $(srtp_src_g) $(srtp_src_o)
 
-libccrtp1_la_LDFLAGS = $(RELEASE)
+libccrtp1_la_LDFLAGS = $(RELEASE) -no-undefined
 
 noinst_HEADERS = private.h
