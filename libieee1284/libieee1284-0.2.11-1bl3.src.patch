--- origsrc/libieee1284-0.2.11/Makefile.am	2005-01-21 23:33:54.000000000 +0900
+++ src/libieee1284-0.2.11/Makefile.am	2010-10-16 13:16:51.986962800 +0900
@@ -8,7 +8,7 @@ libieee1284_la_SOURCES = src/detect.c sr
 	src/par_nt.h src/io.h src/conf.h src/conf.c libieee1284.sym
 # When rolling a release, remember to adjust the version info.
 # It's current:release:age.
-libieee1284_la_LDFLAGS = -version-info 5:2:2 \
+libieee1284_la_LDFLAGS = -version-info 5:2:2 -no-undefined \
 	-export-symbols $(top_srcdir)/libieee1284.sym
 include_HEADERS = include/ieee1284.h
 INCLUDES = -I$(top_srcdir)/include
@@ -34,7 +34,7 @@ libieee1284_test_LDADD = libieee1284.la
 src_ieee1284module_la_SOURCES = src/ieee1284module.c
 if PYTHON
 pyexec_LTLIBRARIES = src/ieee1284module.la
-src_ieee1284module_la_LDFLAGS = -module -avoid-version
+src_ieee1284module_la_LDFLAGS = -module -avoid-version -no-undefined
 src_ieee1284module_la_LIBADD = libieee1284.la
 src_ieee1284module_la_CFLAGS = -I/usr/include/python$(PYTHON_VERSION) -fpic
 endif
--- origsrc/libieee1284-0.2.11/configure.in	2007-09-18 18:57:24.000000000 +0900
+++ src/libieee1284-0.2.11/configure.in	2010-10-16 13:17:26.783837800 +0900
@@ -12,7 +12,7 @@ AC_PROG_CPP
 AC_PROG_INSTALL
 AC_PROG_LN_S
 AC_PROG_MAKE_SET
-AC_PROG_LIBTOOL
+LT_INIT(win32-dll)
 
 dnl Checks for libraries.
 
