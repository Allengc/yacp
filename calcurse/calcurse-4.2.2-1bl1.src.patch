diff -buprN --no-dereference -x CYGWIN-PATCHES -x aclocal.m4~ -x aclocal.m4t -x autom4te.cache -x config.cache -x config.guess -x config.log -x config.status -x config.sub -x '*SlackBuild*' -x '*.egg-info' -x '*.dll' -x '*.exe' -x '*.o' -x '*.gch' -x '*.gem' -x .gitignore -x '*.jpg' -x '*.png' -x '*.qm' -x '*.svgz' -x '*.tif' -x '*.class' -x '*.jlc' -x '*.pyc' -x '*.pyo' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x aclocal.m4 -x configure -x config.h -x '*.h.in' -x COPYING -x INSTALL -x ansi2knr.c -x ar-lib -x config-ml.in -x elisp-comp -x mdate-sh -x mkinstalldirs -x py-compile -x symlink-tree -x test-driver -x texinfo.tex -x ylwrap -x Makefile.in -x GNUmakefile.in -x makefile.in -x compile -x depcomp -x install-sh -x missing -x ABOUT-NLS -x config.rpath -x intl -x codeset.m4 -x fcntl-o.m4 -x gettext.m4 -x glibc2.m4 -x glibc21.m4 -x iconv.m4 -x intdiv0.m4 -x intl.m4 -x intldir.m4 -x intlmacosx.m4 -x intmax.m4 -x inttypes-pri.m4 -x inttypes_h.m4 -x lcmessage.m4 -x lib-ld.m4 -x lib-link.m4 -x lib-prefix.m4 -x lock.m4 -x longlong.m4 -x nls.m4 -x po.m4 -x printf-posix.m4 -x progtest.m4 -x size_max.m4 -x stdint_h.m4 -x threadlib.m4 -x uintmax_t.m4 -x visibility.m4 -x wchar_t.m4 -x wint_t.m4 -x xsize.m4 -x boldquot.sed -x en@boldquot.header -x en@quot.header -x insert-header.sin -x Makefile.in.in -x Makevars.template -x quot.sed -x remove-potcdate.sin -x Rules-quot -x inttypes-h.m4 -x longdouble.m4 -x signed.m4 -x ulonglong.m4 -x extern-inline.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x mate-doc-utils.make -x mate-doc-utils.m4 origsrc/calcurse-4.2.2/configure.ac src/calcurse-4.2.2/configure.ac
--- origsrc/calcurse-4.2.2/configure.ac	2017-01-12 16:38:27.000000000 +0900
+++ src/calcurse-4.2.2/configure.ac	2017-02-16 20:20:08.994740700 +0900
@@ -3,7 +3,7 @@
 #-------------------------------------------------------------------------------
 AC_PREREQ(2.59)
 AC_INIT([calcurse],
-        m4_esyscmd([build-aux/git-version-gen .version]),
+        [4.2.2],
         [bugs@calcurse.org])
 AM_INIT_AUTOMAKE
 #m4_ifdef([AM_SILENT_RULES],[AM_SILENT_RULES([yes])])
@@ -51,6 +51,8 @@ AC_CHECK_FUNC(initscr,,
   LIBS="$LIBS -l$available_ncurses"
 ])
 
+if test "$host_os" != "cygwin"
+then
 AC_CHECK_HEADERS([pthread.h], [
     AC_CHECK_LIB(pthread, pthread_create, [
 	LIBS="$LIBS -pthread"
@@ -59,6 +61,7 @@ AC_CHECK_HEADERS([pthread.h], [
     ], 
     AC_MSG_ERROR(The pthread library is required in order to build calcurse!))
 ], AC_MSG_ERROR(The pthread header is required in order to build calcurse!))
+fi
 
 AC_CHECK_HEADERS([math.h], [
     AC_CHECK_LIB(m, exp, [
diff -buprN --no-dereference -x CYGWIN-PATCHES -x aclocal.m4~ -x aclocal.m4t -x autom4te.cache -x config.cache -x config.guess -x config.log -x config.status -x config.sub -x '*SlackBuild*' -x '*.egg-info' -x '*.dll' -x '*.exe' -x '*.o' -x '*.gch' -x '*.gem' -x .gitignore -x '*.jpg' -x '*.png' -x '*.qm' -x '*.svgz' -x '*.tif' -x '*.class' -x '*.jlc' -x '*.pyc' -x '*.pyo' -x '*.mo' -x '*.gmo' -x '*.orig' -x '*.rej' -x '*.spec' -x '*.temp' -x '*~' -x '*.stackdump' -x aclocal.m4 -x configure -x config.h -x '*.h.in' -x COPYING -x INSTALL -x ansi2knr.c -x ar-lib -x config-ml.in -x elisp-comp -x mdate-sh -x mkinstalldirs -x py-compile -x symlink-tree -x test-driver -x texinfo.tex -x ylwrap -x Makefile.in -x GNUmakefile.in -x makefile.in -x compile -x depcomp -x install-sh -x missing -x ABOUT-NLS -x config.rpath -x intl -x codeset.m4 -x fcntl-o.m4 -x gettext.m4 -x glibc2.m4 -x glibc21.m4 -x iconv.m4 -x intdiv0.m4 -x intl.m4 -x intldir.m4 -x intlmacosx.m4 -x intmax.m4 -x inttypes-pri.m4 -x inttypes_h.m4 -x lcmessage.m4 -x lib-ld.m4 -x lib-link.m4 -x lib-prefix.m4 -x lock.m4 -x longlong.m4 -x nls.m4 -x po.m4 -x printf-posix.m4 -x progtest.m4 -x size_max.m4 -x stdint_h.m4 -x threadlib.m4 -x uintmax_t.m4 -x visibility.m4 -x wchar_t.m4 -x wint_t.m4 -x xsize.m4 -x boldquot.sed -x en@boldquot.header -x en@quot.header -x insert-header.sin -x Makefile.in.in -x Makevars.template -x quot.sed -x remove-potcdate.sin -x Rules-quot -x inttypes-h.m4 -x longdouble.m4 -x signed.m4 -x ulonglong.m4 -x extern-inline.m4 -x omf.make -x xmldocs.make -x gnome-doc-utils.make -x gnome-doc-utils.m4 -x mate-doc-utils.make -x mate-doc-utils.m4 origsrc/calcurse-4.2.2/test/run-test.c src/calcurse-4.2.2/test/run-test.c
--- origsrc/calcurse-4.2.2/test/run-test.c	2017-01-12 16:38:27.000000000 +0900
+++ src/calcurse-4.2.2/test/run-test.c	2017-02-16 20:19:50.901013100 +0900
@@ -146,7 +146,7 @@ static int run_test(const char *name, in
 	char buf1[BUFSIZ], buf2[BUFSIZ];
 	int ret = 1;
 
-	if (snprintf(filename, BUFSIZ, "./%s", name) >= BUFSIZ)
+	if (snprintf(filename, BUFSIZ, "%s", name) >= BUFSIZ)
 		die("file name too long\n");
 
 	if (access(filename, F_OK) != 0) {
