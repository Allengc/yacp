--- origsrc/szip-2.1/configure.ac	2008-11-12 05:40:40.000000000 +0900
+++ src/szip-2.1/configure.ac	2010-12-22 11:07:49.685513400 +0900
@@ -10,7 +10,6 @@ AC_CONFIG_HEADER([src/SZconfig.h])
 # Tell automake that this is not a GNU package (and doesn't need NEWS,
 # AUTHORS, etc. files)
 AM_INIT_AUTOMAKE([foreign])
-AM_MAINTAINER_MODE
 
 AC_CANONICAL_HOST
 AC_PREFIX_DEFAULT([`pwd`/szip])
@@ -95,8 +94,7 @@ dnl correctly.
 export AR
 
 AC_PROG_MAKE_SET
-AC_LIBTOOL_DLOPEN
-AC_PROG_LIBTOOL
+LT_INIT(dlopen,win32-dll)
 
 dnl Post processing to patch up some deficiencies in libtool
 case $host_os in
--- origsrc/szip-2.1/src/Makefile.am	2005-01-06 05:21:56.000000000 +0900
+++ src/szip-2.1/src/Makefile.am	2010-12-22 11:07:14.665156600 +0900
@@ -9,7 +9,7 @@ CSOURCES = rice.c sz_api.c encoding.c
 CHEADERS =  ricehdf.h szip_adpt.h szlib.h
 
 libsz_la_SOURCES = $(CSOURCES)
-libsz_la_LDFLAGS = -version-info 2:0:0
+libsz_la_LDFLAGS = -version-info 2:0:0 -no-undefined
 include_HEADERS = $(CHEADERS)
 
 
