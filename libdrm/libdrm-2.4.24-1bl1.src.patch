--- origsrc/libdrm-2.4.24/configure.ac	2011-03-02 03:22:16.000000000 +0900
+++ src/libdrm-2.4.24/configure.ac	2011-03-10 10:02:07.246053200 +0900
@@ -26,8 +26,7 @@ AM_INIT_AUTOMAKE([dist-bzip2])
 
 AM_CONFIG_HEADER([config.h])
 
-AC_DISABLE_STATIC
-AC_PROG_LIBTOOL
+LT_INIT(win32-dll)
 AC_PROG_CC
 
 AC_HEADER_STDC
--- origsrc/libdrm-2.4.24/include/drm/drm.h	2010-09-08 21:23:39.000000000 +0900
+++ src/libdrm-2.4.24/include/drm/drm.h	2011-03-10 10:45:20.595106000 +0900
@@ -42,6 +42,20 @@
 #include <asm/ioctl.h>
 typedef unsigned int drm_handle_t;
 
+#elif defined(__CYGWIN__)
+
+#include <sys/ioctl.h>
+#include <sys/types.h>
+typedef int8_t   __s8;
+typedef uint8_t  __u8;
+typedef int16_t  __s16;
+typedef uint16_t __u16;
+typedef int32_t  __s32;
+typedef uint32_t __u32;
+typedef int64_t  __s64;
+typedef uint64_t __u64;
+typedef unsigned int drm_handle_t;
+
 #else /* One of the BSDs */
 
 #include <sys/ioccom.h>
--- origsrc/libdrm-2.4.24/xf86drm.h	2009-12-05 20:01:56.000000000 +0900
+++ src/libdrm-2.4.24/xf86drm.h	2011-03-10 10:46:05.259330000 +0900
@@ -43,7 +43,7 @@
 #define DRM_MAX_MINOR   16
 #endif
 
-#if defined(__linux__)
+#if defined(__linux__) || defined(__CYGWIN__)
 
 #define DRM_IOCTL_NR(n)		_IOC_NR(n)
 #define DRM_IOC_VOID		_IOC_NONE
