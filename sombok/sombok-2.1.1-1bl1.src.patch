--- origsrc/sombok-2.1.1/Makefile.am	2012-02-26 10:38:33.000000000 +0900
+++ src/sombok-2.1.1/Makefile.am	2012-03-04 10:08:04.993540600 +0900
@@ -5,8 +5,8 @@ libsombok_la_SOURCES = lib/break.c lib/c
 if MALLOC_DEBUG
 libsombok_la_SOURCES += src/mymalloc.c
 endif
-libsombok_la_CFLAGS = -I. -Iinclude @LIBTHAI_CFLAGS@
-libsombok_la_LDFLAGS = -version-info 4:4:1 @LIBTHAI_LIBS@
+libsombok_la_CFLAGS = -I. -Iinclude -I$(top_srcdir)/include @LIBTHAI_CFLAGS@
+libsombok_la_LDFLAGS = -version-info 4:4:1 @LIBTHAI_LIBS@ -no-undefined
 
 include_HEADERS = include/sombok_constants.h
 nodist_include_HEADERS = include/sombok.h
--- origsrc/sombok-2.1.1/configure.ac	2012-02-26 10:38:33.000000000 +0900
+++ src/sombok-2.1.1/configure.ac	2012-03-04 10:07:30.734656600 +0900
@@ -120,7 +120,7 @@ AC_ARG_WITH(unicode-version,
   AC_HELP_STRING(--with-unicode-version=VERSION,
   [version of Unicode Standard @<:@default=current version@:>@]),
   UNICODE_VERSION=$withval,UNICODE_VERSION=$DEFAULT_UNICODE_VERSION)
-AC_CHECK_FILE([lib/$UNICODE_VERSION.c],
+AC_CHECK_FILE([${srcdir}/lib/$UNICODE_VERSION.c],
   AC_MSG_RESULT($UNICODE_VERSION),
   AC_MSG_ERROR(Unknown Unicode version $UNICODE_VERSION.))
 AC_SUBST(UNICODE_VERSION)
