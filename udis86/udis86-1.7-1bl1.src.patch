--- origsrc/udis86-1.7/configure.ac	2008-06-07 02:54:44.000000000 +0900
+++ src/udis86-1.7/configure.ac	2010-05-03 19:25:04.547888000 +0900
@@ -13,6 +13,9 @@ case "$host_os" in
 		TARGET_OS=windows
 		AC_LIBTOOL_WIN32_DLL
 		;;
+	cygwin*)
+		AC_LIBTOOL_WIN32_DLL
+		;;
 esac
 
 # Initialize the automake subsystem.
@@ -22,7 +25,6 @@ AM_INIT_AUTOMAKE
 AM_CONDITIONAL(TARGET_WINDOWS, test "$TARGET_OS" = windows)
 
 AC_PROG_CC
-AC_DISABLE_SHARED
 AC_PROG_LIBTOOL
 
 # If this is a gnu compiler, pass -Wall
--- origsrc/udis86-1.7/libudis86/Makefile.am	2008-06-07 02:52:21.000000000 +0900
+++ src/udis86-1.7/libudis86/Makefile.am	2010-05-03 19:25:39.844763000 +0900
@@ -22,9 +22,7 @@ libudis86_la_HEADERS = types.h extern.h
 
 # DLLs may not contain undefined symbol references.  We have the linker
 # check this explicitly.
-if TARGET_WINDOWS
 libudis86_la_LDFLAGS=-no-undefined -version-info 0:0:0
-endif
 
 itab.c itab.h: ../docs/x86optable.xml opgen.py
 	python ./opgen.py
