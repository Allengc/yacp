--- origsrc/libbluray/src/Makefile.am	2011-08-14 13:51:08.000000000 +0900
+++ src/libbluray/src/Makefile.am	2011-08-14 13:52:29.152468200 +0900
@@ -90,7 +90,7 @@ libbluray_la_SOURCES=libbluray/bluray.h
 	util/bits.h \
 	util/logging.h
 libbluray_la_HEADERS= libbluray/bluray.h file/filesystem.h util/log_control.h libbluray/keys.h libbluray/decoders/overlay.h libbluray/bdnav/meta_data.h libbluray/bdnav/clpi_data.h
-libbluray_la_LDFLAGS= -version-info $(LIB_VERSION_INFO) $(DLOPEN_LDFLAGS) $(LIBXML2_LIBS)
+libbluray_la_LDFLAGS= -version-info $(LIB_VERSION_INFO) $(DLOPEN_LDFLAGS) $(LIBXML2_LIBS) -no-undefined
 
 if USING_BDJAVA
 libbluray_la_SOURCES+=$(SOURCES_bdj)
--- origsrc/libbluray/src/examples/Makefile.am	2011-08-14 13:51:08.000000000 +0900
+++ src/libbluray/src/examples/Makefile.am	2011-08-14 13:52:54.048266600 +0900
@@ -2,7 +2,7 @@ SET_FEATURES = -D_ISOC99_SOURCE -D_POSIX
 SET_WARNINGS = @SET_WARNINGS@
 SET_OPTIMIZATIONS = @SET_OPTIMIZATIONS@
 SET_DEBUG_OPTS = @SET_DEBUG_OPTS@
-SET_INCLUDES = -I$(top_srcdir) -I.. -I../file -I../libbluray/bdnav
+SET_INCLUDES = -I$(top_srcdir) -I.. -I../file -I../libbluray/bdnav -I$(top_srcdir)/src
 
 AM_CFLAGS = -std=c99 $(SET_FEATURES) $(SET_WARNINGS) $(SET_OPTIMIZATIONS) \
 	$(SET_DEBUG_OPTS) $(SET_INCLUDES)
