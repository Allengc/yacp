--- origsrc/libexception/configure.ac	2010-09-26 11:27:22.000000000 +0900
+++ src/libexception/configure.ac	2010-09-26 11:27:55.172950500 +0900
@@ -12,7 +12,7 @@ AM_INIT_AUTOMAKE([1.9 foreign dist-bzip2
 dnl check for progs
 AC_PROG_CC
 AC_PROG_CPP
-AC_PROG_LIBTOOL
+LT_INIT(win32-dll)
 AC_PROG_INSTALL
 AC_PROG_LN_S
 AC_PROG_MAKE_SET
--- origsrc/libexception/src/Makefile.am	2010-09-26 11:27:22.000000000 +0900
+++ src/libexception/src/Makefile.am	2010-09-26 11:28:07.157325500 +0900
@@ -7,6 +7,6 @@ lib_LTLIBRARIES = libexception.la
 
 libexception_la_SOURCES = exception.c tryenv.c
 libexception_la_LIBADD = @PTHREAD_LIBS@
-libexception_la_LDFLAGS = -version-info 0:0:0
+libexception_la_LDFLAGS = -version-info 0:0:0 -no-undefined
 
 # vim: ts=4 expandtab
