--- origsrc/libHX-3.13/src/Makefile.am	2012-07-28 08:28:33.000000000 +0900
+++ src/libHX-3.13/src/Makefile.am	2012-10-21 23:18:35.328249400 +0900
@@ -10,7 +10,7 @@ libHX_la_SOURCES = deque.c dl.c format.c
                    rand.c string.c time.c
 libHX_la_LIBADD  = ${libdl_LIBS} ${libpthread_LIBS} ${librt_LIBS}
 # New in 29 (over 28): HX_timespec_*
-libHX_la_LDFLAGS = -version-info 29:0:1 \
+libHX_la_LDFLAGS = -no-undefined -version-info 29:0:1 \
                    -Wl,--version-script=${srcdir}/libHX.map
 libHX_la_DEPENDENCIES = libHX.map
 
@@ -23,7 +23,7 @@ endif
 
 libHX_rtcheck_la_SOURCES = rtcheck.c
 libHX_rtcheck_la_LIBADD  = ${libdl_LIBS}
-libHX_rtcheck_la_LDFLAGS = -avoid-version -module \
+libHX_rtcheck_la_LDFLAGS = -no-undefined -avoid-version -module \
                            -Wl,--version-script=${srcdir}/libHX.map
 
 EXTRA_DIST = internal.h map_int.h libHX.map
@@ -52,6 +52,7 @@ tc_realpath_LDADD  = libHX.la
 tc_shconfig_LDADD  = libHX.la
 tc_string_LDADD    = libHX.la
 tc_time_LDADD      = libHX.la
+TESTS = $(check_PROGRAMS)
 
 if HAVE_CXX
 check_PROGRAMS    += tx-compile tx-cast tx-deque tx-dir tx-list tx-list2 \
--- origsrc/libHX-3.13/src/tc-shconfig.c	2012-07-28 08:28:33.000000000 +0900
+++ src/libHX-3.13/src/tc-shconfig.c	2012-10-21 23:18:56.859499400 +0900
@@ -56,8 +56,8 @@ int main(int argc, const char **argv)
 		fprintf(stderr, "HX_init: %s\n", strerror(-ret));
 		return EXIT_FAILURE;
 	}
-	t_shconfig((argc >= 2) ? argv[1] : "tc-shconf.c");
-	t_shconfig2((argc >= 2) ? argv[1] : "tc-shconf.c");
+	t_shconfig((argc >= 2) ? argv[1] : "tc-shconfig.c");
+	t_shconfig2((argc >= 2) ? argv[1] : "tc-shconfig.c");
 	HX_exit();
 	return EXIT_SUCCESS;
 }
