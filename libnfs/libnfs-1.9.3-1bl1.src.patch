--- origsrc/libnfs-libnfs-1.9.3/examples/Makefile.am	2014-03-20 10:12:45.000000000 +0900
+++ src/libnfs-libnfs-1.9.3/examples/Makefile.am	2014-05-08 08:38:48.980897100 +0900
@@ -1,4 +1,4 @@
-noinst_PROGRAMS = nfsclient-async nfsclient-raw nfsclient-sync nfsclient-bcast nfsclient-listservers nfs-ls nfs-cp nfs-io
+bin_PROGRAMS = nfsclient-async nfsclient-raw nfsclient-sync nfsclient-bcast nfsclient-listservers nfs-ls nfs-cp nfs-io
 
 AM_CPPFLAGS = \
 	-I$(abs_top_srcdir)/include \
@@ -9,7 +9,7 @@ AM_CPPFLAGS = \
 	-I$(abs_top_srcdir)/rquota \
 	"-D_U_=__attribute__((unused))"
 
-AM_LDFLAGS = ../lib/.libs/libnfs.la -lpopt
+AM_LDFLAGS = $(top_builddir)/lib/libnfs.la -lpopt
 
 nfs_ls_SOURCES = nfs-ls.c
 
--- origsrc/libnfs-libnfs-1.9.3/include/nfsc/libnfs.h	2014-03-20 10:12:45.000000000 +0900
+++ src/libnfs-libnfs-1.9.3/include/nfsc/libnfs.h	2014-05-08 08:34:24.587342400 +0900
@@ -22,7 +22,7 @@
 #define _LIBNFS_H_
 
 #include <stdint.h>
-#if defined(ANDROID)
+#if defined(ANDROID) || defined(__CYGWIN__)
 #include <sys/time.h>
 #endif
 #if defined(AROS)
--- origsrc/libnfs-libnfs-1.9.3/lib/Makefile.am	2014-03-20 10:12:45.000000000 +0900
+++ src/libnfs-libnfs-1.9.3/lib/Makefile.am	2014-05-08 08:30:40.759979400 +0900
@@ -21,7 +21,7 @@ libnfs_la_SOURCES = \
 SOCURRENT=4
 SOREVISION=0
 SOAGE=0
-libnfs_la_LDFLAGS = -version-info $(SOCURRENT):$(SOREVISION):$(SOAGE)
+libnfs_la_LDFLAGS = -no-undefined -version-info $(SOCURRENT):$(SOREVISION):$(SOAGE)
 libnfs_la_LIBADD = \
 	../mount/libmount.la \
 	../nfs/libnfs.la \
--- origsrc/libnfs-libnfs-1.9.3/nfs/libnfs-raw-nfs.h	2014-03-20 10:12:45.000000000 +0900
+++ src/libnfs-libnfs-1.9.3/nfs/libnfs-raw-nfs.h	2014-05-08 08:31:10.957245000 +0900
@@ -23,7 +23,7 @@ extern "C" {
 typedef long long int quad_t;
 typedef long long unsigned u_quad_t;
 #endif
-#if defined(WIN32)
+#if defined(WIN32) || defined(__CYGWIN__)
 typedef long long int quad_t;
 typedef long long unsigned u_quad_t;
 #endif
--- origsrc/libnfs-libnfs-1.9.3/nlm/libnfs-raw-nlm.h	2014-03-20 10:12:45.000000000 +0900
+++ src/libnfs-libnfs-1.9.3/nlm/libnfs-raw-nlm.h	2014-05-08 08:31:26.552948100 +0900
@@ -16,7 +16,7 @@ extern "C" {
 typedef long long int quad_t;
 typedef long long unsigned u_quad_t;
 #endif
-#if defined(WIN32)
+#if defined(WIN32) || defined(__CYGWIN__)
 typedef long long int quad_t;
 typedef long long unsigned u_quad_t;
 #endif
