--- origsrc/libaacs/configure.ac	2010-12-26 11:33:19.000000000 +0900
+++ src/libaacs/configure.ac	2010-12-26 11:34:36.274660400 +0900
@@ -5,7 +5,6 @@ AC_CONFIG_MACRO_DIR([m4])
 AC_CANONICAL_SYSTEM
 AM_INIT_AUTOMAKE([foreign])
 AM_CONFIG_HEADER(config.h)
-AM_MAINTAINER_MODE
 
 case "${host_os}" in
   "")
@@ -58,7 +57,7 @@ AC_ARG_ENABLE([debug],
 
 # required programs
 AC_PROG_CC
-AC_PROG_LIBTOOL
+LT_INIT(win32-dll)
 AM_PROG_LEX
 AC_PROG_YACC
 
--- origsrc/libaacs/src/Makefile.am	2010-12-26 11:33:19.000000000 +0900
+++ src/libaacs/src/Makefile.am	2010-12-26 12:21:08.719999600 +0900
@@ -11,7 +11,7 @@ SET_FEATURES = -D_ISOC99_SOURCE -D_POSIX
 SET_WARNINGS = @SET_WARNINGS@
 SET_OPTIMIZATIONS = @SET_OPTIMIZATIONS@
 SET_DEBUG_OPTS = @SET_DEBUG_OPTS@
-SET_INCLUDES = -I$(top_srcdir) -Ifile
+SET_INCLUDES = -I$(top_srcdir) -Ifile -I$(top_srcdir)/src/file
 
 AM_CFLAGS = -std=c99 $(SET_FEATURES) $(SET_WARNINGS) $(SET_OPTIMIZATIONS) \
 	$(SET_DEBUG_OPTS) $(SET_INCLUDES) $(LIBGCRYPT_CFLAGS)
@@ -44,7 +44,7 @@ libaacs_la_SOURCES=libaacs/aacs.h \
 	util/strutl.h
 libaacs_ladir= $(includedir)/libaacs
 libaacs_la_HEADERS= libaacs/aacs.h file/filesystem.h
-libaacs_la_LDFLAGS= $(LIBGCRYPT_LIBS) -version-info $(LIB_VERSION_INFO)
+libaacs_la_LDFLAGS= $(LIBGCRYPT_LIBS) -version-info $(LIB_VERSION_INFO) -no-undefined
 pkgconfigdir = $(libdir)/pkgconfig
 pkgconfig_DATA = libaacs.pc
 
